= Modding\... Modding never changes, vol. 2
Pablo César Pérez González (aka "pcesarperez", aka "adastra") <modding.never.changes@gmail.com>
v0.4.4, 22/01/2017
//:stylesheet: Modding-never-changes-vol-2.css
:icons: font
//:linkcss:
:toc:
:toclevels: 4
:sectlinks:
:experimental:
:docinfo:
//:stylesdir: ./styles

////
The following block ensures that GitHub shows proper icons in admonition blocks.
It also points the images path to the repo, instead of using the build.

@see http://blog.jdriven.com/2016/06/awesome-asciidoctor-using-admonition-icons-github/
////
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:

:imagesdir: ../resources/images
endif::[]

////
If we are *NOT* on GitHub, the images path points to the final product path.
////
ifndef::env-github[]
:imagesdir: ./images
endif::[]




////
	Introductory chapters.
////

== Metacrap

No guide would be complete without legal stuff and whatnot. I'll be brief. I promise.

**What?**::
A modding guide for _Fallout 3 Game of the Year Edition_ using http://www.nexusmods.com/skyrim/mods/1334/[Mod Organizer]. This is version *{revnumber}*.

**Who?**::
Pablo César Pérez González, aka pcesarperez, aka adastra, reachable through mailto:modding.never.changes@gmail.com[modding.never.changes].

**When?**::
Sometime after the completion of volume 1 and before the beginning of volume 3, I guess.

**Where?**::
Where my cat allows me to be, of course.

**Why?**::
I am still wondering about it. I'll call you back when I get a clear answer.

This guide is subject to a https://creativecommons.org/licenses/by-sa/4.0/[image:https://i.creativecommons.org/l/by-sa/4.0/80x15.png[Creative Commons License] Creative Commons Attribution Share Alike 4.0].

////
	The next block will be uncommented at the very end, when styles are added.
////

////
I have used several additional resources, like:

* Header image http://meduzarts.com/?portfolio=fallout-3[_Washington D.C. Destroyed_] (c) Bethesda Softworks LLC, by Daniel Kvasznicza for Meduzarts.
* Font https://fonts.google.com/specimen/Lora[Lora], by Cyreal, used in the document body.
* Font https://fonts.google.com/specimen/Ubuntu+Mono[Ubuntu Mono], by Dalton Maag, used in monospaced texts.
* Font http://www.fontspace.com/kenny-redman/321-impact[321 Impact], by Kenny Redman, used in the document headings.
* http://snapyourcolors.com/Chip/wiYPie[Custom palette] created with ColorSnap.
////

Finally, you will find the source for this book in https://github.com/pcesarperez/Modding-never-changes-vol-2[its GitHub repo]. You can even https://github.com/pcesarperez/Modding-never-changes-vol-2/issues[create an issue] if you think there is something I should improve in the guide (and trust me, there is a shitload of room for improvement).




== Acknowledgments

In the modding scene, you cannot even think about writing a guide like this without standing on the shoulder of giants, unless you are a hardened pioneer, of course. Which I am not.

I have read and viewed a lot of resources before writing a single line of this guide. These are the authors of such resources:

* *https://www.youtube.com/user/GophersVids[Gopher]* is one of my favourite modders and youtubers out there. I have been watching his videos since my interest in modding bloomed. His is the https://www.youtube.com/playlist?list=PLE7DlYarj-DcLS9LyjEqOJwFUQIIQewcK[Mod Organizer video series], albeit he uses _Skyrim_ to show the tool capabilities.
* *https://www.youtube.com/user/ar15nurse[Cal, from Dirty Weasel Media]* is one of my latest additions to my subscription list. He has created a fantastic https://www.youtube.com/playlist?list=PLWMvEg2LxwXbtc-mZT_H9pOwhIdOcMcn9[guide about Modding _Fallout 3_ with Mod Organizer] which has been very helpful.
* *https://www.youtube.com/user/MrXuul[Xuul]* is a youtuber with a lot of quality and up-to-date videos about modding. His is https://www.youtube.com/playlist?list=PL4turVkHE168Yyj8g9k_s9GCCvW0f_apX[a complete guide to mod _Fallout 3_ with Mod Organizer].
* *https://www.youtube.com/user/gamerpoets[Michael, from GamerPoets]* is a modder and youtuber that I have recently discovered through Gopher's series about Mod Organizer. He and his team has *A FUCKIN' LOT* of tutorials about modding, all of them very thorough and detailed. I have used several resources from GamerPoets, like https://www.youtube.com/watch?v=CqFCLrYn30c[a guide about LOOT] and a https://www.youtube.com/watch?v=2F19Do8HAl4[guide about xEdit].
* *http://wiki.step-project.com/Main_Page[The people behind S.T.E.P. Project]* have the best guides out there about modding _Skyrim_, and in that context they have published http://wiki.step-project.com/Guide:Mod_Organizer[the official guide for Mod Organizer].
* Kelmych has written http://wiki.step-project.com/User:Kelmych/Fallout3[_Clear and Present Danger_], *THE GUIDE* about modding _Fallout 3_. This guide has been on my bedside table for weeks, and its detailed explanations are invaluable.




== Introduction

I have always had, as far as my memory is able to recall, a strong bias for post-apocalyptic games, books and films. The tale of strong individuals or drawn-together communities struggling to survive in a harsh and unforgivable environment has always caught me. The _S.T.A.L.K.E.R._ series, by GSC Game World, the _Metro_ novels, by Dmitry Glukhovsky, or the _Prism Pentad_ novels in the _Dark Sun_ universe, by Troy Denning, are examples that come easily to mind.

I admit I never played the original _Fallout 1_ and _Fallout 2_ games, although they are considered to show https://warisboring.com/why-fallout-is-the-best-nuclear-war-story-ever-told-5910918d28e4#.oroyrzbn0[the best depiction of the effects of a Nuclear War]. They went under my radar in my compulsive gaming-spree youth. But, oh my, when I first laid my eyes on _Fallout 3_, it was love at first sight. The game was released in 2008, and I have been playing it in and out since then, although I have never completed the main quest line. There are a lot of unfinished games in my backpack, I guess.

My first playthrough was with the Vanilla version of the game, and it was the longer one. And when I discovered mods, it taught me a valuable lesson: you should always play the unmodded version of the game, to get a sense of that could be improved or fixed.

I love post-apocalyptic games, and I love tinkering with things, so the recipe _Fallout 3_ + mods is a perfect win for me.

Slushes apart, _Fallout 3_ is an old game, and what it is more important, it is a Bethesda Softworks' game, and it means a lot of bugs out-of-the-box. The mods we are going to install address these bugs to fix the game, but they also greatly improve the game in every aspect, from playability to graphics, going through sounds and music.

So that is what we want to achieve with this guide: having a step-by-step process to get a fully modded _Fallout 3_ game, with no flaws (almost), with a serious performance boost and with visuals, audio and game mechanics enhanced, and all of this having a clean, pristine game data folder.

If you are in a rush of excitement and you cannot wait to start modding the hell out of _Fallout 3_, jump ahead to chapter <<DEFCON 00 (Vanilla)>>. Otherwise, read the rest of the introductory chapters to know <<Why Mod Organizer?, why are we choosing Mod Organizer as our modding tool>>, <<Functional vs. Technical, how is the guide organized and why>>, <<The tools we need, which are the tools we need to get the job done>>, and <<Conventions used in this guide, which are the conventions used in writing this guide>>.




== Why Mod Organizer?

When I started writing https://pcesarperez.github.io/modding-never-changes/[the first volume of this guide] I didn't know of the existence of Mod Organizer. I was halfway through the writing when I seriously considered trashing out what I had done after watching https://www.youtube.com/playlist?list=PLE7DlYarj-DcLS9LyjEqOJwFUQIIQewcK[Gopher's series about Mod Organizer], in one of my random video-hunting sessions.

I decided not to, and I think I did right. Writing the guide using Nexus Mod Manager taught me how to mod a game, how important is the install order, what is the load order, and so on.

To illustrate the main advantage of Mod Organizer (MO) over Nexus Mod Manager (NMM), let's imagine this scenario: you are halfway through your mod stack setup, and you find a new, incredible mod you cannot live without (trust me, it happens). You have two choices: either risking your setup by just adding the mod, if it is not overly aggressive (and by "not overly aggressive" I mean "does not overwrite a lot of previously installed assets"), or restarting your modding process, installing the mod in its proper place. The later will usually be the sensible choice, although tedious and frustrating.

That's what should happen with NMM, but not with MO. Have you found an oh-my-gosh-I-need-this mod? Just throw it into the right profile and rearrange your mod stack, carefully controlling the assets that will be overwritten. There are other advantages, too, pointed out in the http://wiki.step-project.com/Guide:Mod_Organizer[official guide]:

* Your data folder will be kept clean. No more cluttered data folders, because MO uses a virtual folder to install the mods.
* Merging different files into a single mod is dead easy. You don't have to have a lot of different entries in your mod stack for each mod you install.
* You have integrated tools to fiddle with the inner structure of the mods, so you will be able to fix any weirdness the mod comes with before installing it.
* Knowing which files are overwritten and by which mod in your setup is a no-brainer.
* Profiles! Do you need a profile for a heavy-gunner with specific mods? Done! Do you need a profile for a hard nerd whose favourite problem solving method is talking her way out of it? Done! Each profile has its individual mod configuration, which is perfect for the progressive, functional approach we are going to use throughout this guide.

There are several downsides too, of course, although none of them is a real deal breaker:

* MO is a bit more difficult than NMM. It's not rocket science, but you have to know what you are doing to have a correct mod stack. Installing a mod is not as simple as throwing it into your mod stack. You have to know which files from other mods it should overwrite and which of its files should be overwritten.
* Sometimes, mods with scripted installers (aka FOMOD/BAIN installers) do have a weird behavior under MO, even not working at all. There are ways around these issues, but still.
* MO doesn't work with 64 bits games, so we are stuck with NMM for games like _Fallout 4_ and _The Elder Scrolls 5: Skyrim Special Edition_.

Once you start using MO, there's no turning back to NMM. Ever. Even though both of them http://www.nexusmods.com/fallout4/news/12905/?[are endangered species now]. The next breed of NMM will supposedly have all the features of MO, but until then, MO is our winning horse.




== Functional vs. Technical

There are a lot of _Fallout 3_ modding guides out there. This is just another one, but I'd like to think that my approach to the matter is slightly different, because it's a functional one.

What the hell do I mean by "functional"? Well, at the end of each main chapter (called *DEFCON*), you will have a version of the game with certain features: bugfixes, new sounds, new animations, etc. Chapters are cumulative, this is, each chapter is built on top of the previous one. Thus, this guide is intended to be followed from cover to cover, although you can skip any chapter you wish, taking into account that, from that point on, you are in _Terra Incognita_, all by yourself.

This approach has its advantages and disadvantages. I think it's more understandable for the reader, albeit more complex to perform under the hood.

It would be good for you to understand the concept of _load order_ before going on. Gopher has two videos explaining https://www.youtube.com/watch?v=YzsBKYUrcbE[what is load order] (20:00) and https://www.youtube.com/watch?v=SzoyWugzZAw[how to use LOOT to manage our load order] (13:59). Both are worth checking out.

However, there is something you need to understand besides load order, and it is what I call _stacking order_, or in MO jargon, _priority order_. Each mod could have one of these items, or both:

* One or more data files, which may be `.esm` (master) or `.esp` (ancillary) files.
* A number of assets, like textures, sounds, meshes, menu files, etc.

Data files are bound by load order, whereas assets are bound by stacking order. Gopher has a very good video explaining everything about https://www.youtube.com/watch?v=jVSy_5M3NTc[conflicts and priorities] in MO, and the Official Guide has http://wiki.step-project.com/Guide:Mod_Organizer#Priorities[an entire chapter devoted to priorities].

To keep this short and straight, we are going to carefully place each mod in its proper place, taking into account the priorities. This is, if you install mod "A" with a certain asset "foo", and later you install mod "B" with an equally named asset "foo" down in the priority list (with a higher priority), "B" version of "foo" will overwrite "A" version of "foo", although you can easily rearrange the stacking order if you find out it's not correct. But that's something I have to worry about, not you, at least regarding this guide.




== The tools we need

These are the tools we are going to use throughout this guide. Don't worry about installing them yet; their setup will be addressed in the proper chapters. However, you can save precious time by downloading them right now.

Mod Organizer::
http://www.nexusmods.com/skyrim/mods/1334/[Mod Organizer] is an advanced modding tool. It is not as wide-scoped as Nexus Mod Manager, because it only supports _Fallout 3_, _Fallout New Vegas_, _The Elder Scrolls IV: Oblivion_ and _The Elder Scrolls V: Skyrim_ (not the _Special Edition_, though). However, is way more powerful than NMM. Once you start modding with it, you wonder where the fuck was this tool your whole life.

xEdit::
http://www.nexusmods.com/fallout4/mods/2737/[xEdit] comprises, in fact, several tools, each oriented to a specific game. Each version takes its name from the game it is aimed to, so the latest version is called FO4Edit, because it has been developed for _Fallout 4_. Nevertheless, each version works with any game in the _Fallout_ or _The Elder Scrolls_ series, from _Fallout 3_ and _Oblivion_ on. This tool allows us to fiddle with data files (`.esm` or `.esp`), cleaning them and modifying them if there is some kind of error. It also allows to clean data files, which have often duplicated or undeleted entries. Finally, it will help us to create a http://wiki.step-project.com/Guide:Merging_Plugins#xEdit_Merge_Patch[_Merged Patch_] to ensure a better game stability. More on that later on.

LOOT::
https://loot.github.io/[LOOT] is the best tool out there to keep your load order in check. It relies on an artifact called _the masterlist_, which is a list of mod's metadata to calculate the right load order for your mod stack.

Wrye Flash::
http://www.nexusmods.com/fallout3/mods/11336/[Wrye Flash] is a modding tool akin to Mod Organizer it is scope, but very different for what we are going to use it. It will help us to create a http://wiki.step-project.com/Bashed_Patch[_Bashed Patch_] to further improve our game stability.

Don't worry if the ultimate purpose of each tool seems a bit vague. All of this will be thoroughly explained in time.




== Conventions used in this guide

The following conventions are used within this guide.

Game titles::
Game titles are shown in italicized text, like _Fallout 3_ or _The Elder Scrolls V: Skyrim_.

Mod names::
Any mod used in this guide is shown using an italicized link to the mod's original page. For example, http://forums.bethsoft.com/topic/1121454-wipzbeta-darnified-ui-f3/[_DarNified UI F3_] or http://www.nexusmods.com/fallout3/mods/2761/[_FWE - FO3 Wanderers Edition_]. The name is shown as is, with the title given by its author, no matter how many grammar or orthographic rules have been murdered in the process.

Filenames and paths::
Any filename or path, complete or partial, is shown using monospaced text, like `[%USERPROFILE%\Documents\My Games\Fallout3]`, `Fallout.ini` or `.esp`.

Files within Nexus::
A mod hosted in Nexus will usually have several files (for example, the http://www.nexusmods.com/fallout3/mods/2761/?tab=2&navtag=http%3A%2F%2Fwww.nexusmods.com%2Ffallout3%2Fajax%2Fmodfiles%2F%3Fid%3D2761&pUp=1[multiple files which belong to FWE]). Sometimes is difficult to know exactly which files have to be downloaded, thus they are shown using a green, bold text, mimicking Nexus own style, like [NexusFile]*FWE 6-03a HOTFIX PATCH* or [NexusFile]*MMM-6_2-update*.

Info blocks::
Info blocks are used at the beginning of each chapter to show the list of mods which are going to be installed. For example:

[NOTE]
====
Mods used in this chapter:

* http://www.nexusmods.com/fallout3/mods/3388/[_Weapon Mod Kits_]
* http://www.nexusmods.com/fallout3/mods/8340/[_EVE - Energy Visuals Enhanced_]
* http://www.nexusmods.com/fallout3/mods/6938/[_RH_IronSights - FOSE_]
* http://www.nexusmods.com/fallout3/mods/16787/[_Paradox Ignition presents The Mergers_]
====

Tip blocks::
Tip blocks are used to give hints of links to further resources which expand the knowledge about specific topics. For example:

[TIP]
====
There is a complete https://www.youtube.com/playlist?list=PLWMvEg2LxwXbtc-mZT_H9pOwhIdOcMcn9[playlist about modding _Fallout 3_ with Mod Organizer], by Dirty Weasel Media.
====




////
	DEFCON 00 (Vanilla) chapter.
////

== DEFCON 00 (Vanilla)

In this chapter we are going to build the foundation for the modding process, installing the game and the necessary tools. Thus, no real modding will be done here.

At the end of the chapter we will be ready to start with the modding, with all the tools in place. We will have our first profile, although it will contain the Vanilla version of the game.




=== Installing the game

I am assuming we are using the Steam edition of _Fallout 3 Game of the Year Edition_, with all 5 DLCs. This is what you have to do first and foremost.

. Install Steam outside UAC-controlled space. In other words, *DO NOT* install Steam in the default location, under `[C:\Program Files]`. Install it instead in `[C:\Games]` or any other location of your choice. If you have Steam already installed in UAC-controlled space, check this guide about https://support.steampowered.com/kb_article.php?ref=7418-YUBN-8129[moving a Steam installation and games]. We will refer to the final Steam location as `[%STEAM_HOME%]`.
. Install _Fallout 3 Game of the Year Edition_ through Steam. The game will be located at `[%STEAM_HOME%\steamapps\common\Fallout 3 goty]`, which we will refer to as `[%FO3_HOME%]` from now on.
. You *MUST* run the game at least once to create the configuration files the game needs, so double-click on the launcher icon you should have in your desktop.
+
._Fallout 3_ launcher icon
image::DEFCON-00-Fallout-3-launcher-icon.png[Fallout 3 launcher icon, title="Fallout 3 launcher icon"]
. The launcher dutifully informs you that video hardware is about to be detected, thus setting up the configuration for you.
+
.Video hardware detection message
image::DEFCON-00-Video-hardware-detection-message.png[Video hardware detection message, title="Video hardware detection message"]
. After a brief moment, the launcher shows a message with the quality settings it has detected for your box (my rig is a crap, but the game is rather old, so...).
+
.Video hardware settings detected
image::DEFCON-00-Video-hardware-settings-detected.png[Video hardware settings detected, title="Video hardware settings detected"]
. And here we go! This is the launcher in all its greenish glory.
+
._Fallout 3_ launcher
image::DEFCON-00-Fallout-3-launcher.png[Fallout 3 launcher, title="Fallout 3 launcher"]
. Click on *Options* to adjust the video resolution. Don't bother changing anything else right now.
+
._Fallout 3_ settings
image::DEFCON-00-Video-resolution-adjustment.png[Fallout 3 settings, title="Fallout 3 settings"]
. Click on *Play* in the launcher to launch the game with the preferred settings. The game will show the main menu.
+
._Fallout 3_ main menu
image::DEFCON-00-Fallout-3-main-menu.png[Fallout 3 main menu, title="Fallout 3 main menu"]
+
[WARNING]
====
You may run into an error like this one when trying to run the game for the first time:

.Error about absent Games for Windows Live
image::DEFCON-00-Games-for-Windows-Live-absent.png[Error about absent Games for Windows Live, title="Error about absent Games for Windows Live"]

To fix this, download and install the http://www.xbox.com/en-US/Live/PC/DownloadClient[Games for Windows Marketplace Client] and try again.
====
. You can either click on *Play* or *Quit* in the main menu screen. If you are running the game under Windows 7 or Windows 8, odds are you won't be able to go beyond this screen. In Windows 10 you may run the game, although an annoying warning appears every time you run the launcher.
+
.Windows 10 warning about running _Fallout 3_
image::DEFCON-00-Windows-compatibility-warning.png[Windows 10 warning about running Fallout 3, title="Windows 10 warning about running Fallout 3"]
. However, this is all we need, for now. Just click on *Quit* and check this files and folders under `[%USERPROFILE%\Documents\My Games\Fallout3]` (`[%USERPROFILE%\My Documents\My Games\Fallout3]`, if you are using Windows 7):
* `[Saves]`
* `FALLOUT3.INI`
* `FalloutPrefs.ini`
* `RendererInfo.txt`




=== Installing the tools

[NOTE]
====
These are the tools installed in this chapter, in alphabetical order.

* https://loot.github.io/[LOOT].
* http://www.nexusmods.com/skyrim/mods/1334/[Mod Organizer].
* http://www.nexusmods.com/fallout3/mods/11336/[Wrye Flash].
* http://www.nexusmods.com/fallout4/mods/2737/[xEdit].
====

In this chapter we are going to install the tools we need to mod _Fallout 3 Game of the Year Edition_. We are going to install them, but we are not going to test them; not yet, at least. Their integration will be addressed in the next chapter.




==== LOOT

https://loot.github.io/[Load Order Optimisation Tool] (LOOT) is a tool used to take care of the load order in _The Elder Scrolls IV: Oblivion_, _The Elder Scrolls V: Skyrim_, _The Elder Scrolls V: Skyrim Special Edition_, _Fallout 3_, _Fallout New Vegas_ and _Fallout 4_. Mod Organizer comes with an integrated version of LOOT, but it is outdated, so we are going to need the standalone version installed.

[TIP]
====
If you want to have an in-depth look to LOOT and what it can do, just watch the https://www.youtube.com/watch?v=CqFCLrYn30c[Start to Finish tutorial about LOOT], by GamerPoets.
====

. https://loot.github.io/[Download] and install LOOT outside UAC-controlled space (for example, `[C:\Games\Tools\LOOT]`). We will refer to the installation folder as `[%LOOT_HOME%]`.
. Run LOOT after installing it. When it is run for the first time, a window will appear with some tips. Just click *Ok* to dismiss it.
+
.LOOT first run
image::DEFCON-00-LOOT-first-run.png[LOOT first run, title="LOOT first run"]
. LOOT usually does a good job detecting the installed games which it considers manageable, so there is a good chance that _Fallout 3_ would be automatically detected.
+
.LOOT with Vanilla game
image::DEFCON-00-LOOT-with-Vanilla-game.png[LOOT with Vanilla game, title="LOOT with Vanilla game"]
. *DON'T DO ANYTHING BUT EXIT LOOT!* We are going to manage the load order through Mod Organizer, so this will be the last time we run LOOT standalone.




==== xEdit

http://www.nexusmods.com/fallout4/mods/2737/[xEdit] is not really a single tool, but a set of tools with different names and equivalent purpose. There are versions of xEdit for several games (FO3Edit for _Fallout 3_, TES5Edit for _The Elder Scrolls V: Skyrim_, and son on), but they all do the same thing: manipulate game plugins (`.esm` and `.esp` files).

[TIP]
====
Although we are going to use a limited set of features in xEdit, it's worth checking the https://www.youtube.com/watch?v=2F19Do8HAl4[Start to Finish tutorial about xEdit], by GamerPoets.
====

The version you have to use will always be the last one, and in this case, it is the _Fallout 4_ version, called FO4Edit, of course.

So, why the renaming? Why xEdit instead of FO4Edit? It is because we are planning for the future. We would like to use xEdit to manipulate not only _Fallout 3_ plugins, but also plugins from any other Bethesda's (or Obsidian's) game which the tool would be able to manage.

. http://www.nexusmods.com/fallout4/mods/2737/[Download] and install FO4Edit outside UAC-controlled space, using the name "xEdit" (for example, `[C:\Games\Tools\xEdit]`). We will refer to the installation folder as `[%XEDIT_HOME%]`. The tool is packed in a ZIP file, so the only thing you have to do is unpack it into the desired location.
. Rename the file `FO4Edit.exe` inside `[%XEDIT_HOME%]` to `xEdit.exe`.
. If you try to run xEdit, an error is shown because the tool has not been instructed about which game is about to fiddle with.
+
.xEdit error when running standalone
image::DEFCON-00-xEdit-first-time-run-error.png[xEdit error when running standalone, title="xEdit error when running standalone"]
. However, the tool launches with no plugins loaded.
+
.xEdit with no plugins loaded
image::DEFCON-00-xEdit-first-time-run.png[xEdit with no plugins loaded, title="xEdit with no plugins loaded"]
. Just exit xEdit. We are going to use this tool through Mod Organizer also.




==== Wrye Flash

I'll try to keep it simple... http://www.nexusmods.com/fallout3/mods/11336/[Wrye Flash] is a modding utility roughly equivalent to Mod Organizer or Nexus Mod Manager. However, it comes out-of-the-box with a feature that makes it most valuable: the management of bash tags and, hence, the creation of bashed patches. In fact, it is the only feature we are going to use here.

Besides, what is a bash tag or, for that matter, a bashed patch?

Bash tag::
It is an element that points out which http://geck.bethsoft.com/index.php?title=Category:Leveled_Lists[leveled lists] are modified by a mod. Items belonging to a leveled list are presented to the player according to her level in the game.

Bashed patch::
It is a sort of compatibility patch between mods, but it revolves around leveled lists, using the bash tags included in these mods.

//^

. http://www.nexusmods.com/fallout3/mods/11336/[Download] Wrye Flash, using the [NexusFile]*Wrye Flash 31.6 - Standalone Executable* file, as of this writing.
. Unzip the file in a location of your choice. The ZIP file contains two folders, `[Data]` and `[Mopy]`.
. Copy the two folders to `[%FO3_HOME%]` (remember: your _Fallout 3_ installation folder).
. A warning will appear, because we are trying to overwrite the data folder with additional content. Yeah, I know I said that we would keep our data folder clean, but this is the only way Wrye Flash would work, so you have to overwrite the game data folder when asked to. This will be the last time, I swear.
+
.Wrye Flash data folder replacement
image::DEFCON-00-Wrye-Flash-data-folder-replacement.png[Wrye Flash data folder replacement, title="Wrye Flash data folder replacement"]
. Run `Wrye Flash.exe` from `[%FO3_HOME%\Mopy]`.
+
.Wrye Flash executable
image::DEFCON-00-Wrye-Flash-executable.png[Wrye Flash executable, title="Wrye Flash executable"]
. Wrye Flash will show an initial error. Just ignore it.
+
.Wrye Flash initial error
image::DEFCON-00-Wrye-Flash-initial-error.png[Wrye Flash initial error, title="Wrye Flash initial error"]
. After a brief moment, Wrye Flash will be loaded, showing your actual mod list (only official DLCs for the moment). Don't worry about what you see, and *DON'T TOUCH ANYTHING!* Just exit the tool.
+
.Wrye Flash first run
image::DEFCON-00-Wrye-Flash-first-run.png[Wrye Flash first run, title="Wrye Flash first run"]
. We have unintentionally left a small detritus in the data folder: a bashed patch template. This is a mock `.esp` file called `Bashed Patch, 0.esp` which Wrye Flash places in the data folder when run in standalone mode.
+
.Wrye Flash spurious template bashed patch
image::DEFCON-00-Wrye-Flash-spurious-template-bashed-patch.png[Wrye Flash spurious template bashed patch, title="Wrye Flash spurious template bashed patch"]
. Navigate to `[%FO3_HOME\Data%]` and delete the file `Bashed Patch, 0.esp`.




==== Mod Organizer

Finally, our touchstone: http://www.nexusmods.com/skyrim/mods/1334/[Mod Organizer]. We are just going to install MO in this sub-chapter, taking care about the integration between all the tools in the <<Setting up the environment, next chapter>>.

[TIP]
====
We are going to use and abuse MO _ad nauseam_, but you can get a feeling of what it is and how to install it in these two videos, by Gopher, both part of a https://www.youtube.com/playlist?list=PLE7DlYarj-DcLS9LyjEqOJwFUQIIQewcK[larger playlist about MO]:

* https://www.youtube.com/watch?v=j4ZQpzf_iAE&index=1&list=PLE7DlYarj-DcLS9LyjEqOJwFUQIIQewcK[Mod Organizer: Introduction].
* https://www.youtube.com/watch?v=PYY1OV2_ZTk&index=2&list=PLE7DlYarj-DcLS9LyjEqOJwFUQIIQewcK[Mod Organizer #1 - Installation and Initial Setup.]
====

. http://www.nexusmods.com/skyrim/mods/1334/[Download] the last version of Mod Organizer using the [NexusFile]*Mod Organizer v1_3_11 installer* file, as of this writing.
. Run the installer, which shows an assistant to guide you through the installation. Advance to the screen in which you should choose the components to install. Make sure you have the *Handle Nexus Links* option checked in order to download Nexus mod files right from MO.
+
.Mod Organizer components
image::DEFCON-00-Mod-Organizer-components.png[Mod Organizer components, title="Mod Organizer components"]
. In the next screen, select `[%FO3_HOME%\Mod Organizer]` as the installation folder. Yes, we are going to install MO *inside* the _Fallout 3_ main folder, and it is the best way to do it.
+
.Mod Organizer installation folder
image::DEFCON-00-Mod-Organizer-installation-folder.png[Mod Organizer installation folder, title="Mod Organizer installation folder"]
. Once the tool is in place, run Mod Organizer. The application will ask you to select the game version you have. You should choose _Game Of The Year_.
+
.Mod Organizer game version selection
image::DEFCON-00-Mod-Organizer-game-version-selection.png[Mod Organizer game version selection, title="Mod Organizer game version selection"]
. A window with the message of the day will appear. Just click *Ok*.
+
.Mod Organizer message of the day
image::DEFCON-00-Mod-Organizer-message-of-the-day.png[Mod Organizer message of the day, title="Mod Organizer message of the day"]
. After that, MO offers to show a tutorial. It's your choice, but if you want to cut to the chase, just click *No*.
+
.Mod Organizer show tutorial offering
image::DEFCON-00-Mod-Organizer-show-tutorial.png[Mod Organizer show tutorial offering, title="Mod Organizer show tutorial offering"]
. Lo and behold! Here it is, at last! Mod Organizer is loaded with the main file and official DLCs loaded.
+
.Mod Organizer first run
image::DEFCON-00-Mod-Organizer-first-run.png[Mod Organizer first run, title="Mod Organizer first run"]
. Don't do anything right now, but leave MO open.




=== Setting up the environment

We have installed all the tools we need so far, but they are just bits and pieces left fending for themselves. What we are going to do in this chapter is to glue them together so that they work seamlessly in a solid, stable modding environment.

[TIP]
====
There is a great video about https://www.youtube.com/watch?list=PLWMvEg2LxwXbtc-mZT_H9pOwhIdOcMcn9&v=GeEz564qCpc[installing and stitching together all the tools], by Dirty Weasel Media. It is part of a https://www.youtube.com/playlist?list=PLWMvEg2LxwXbtc-mZT_H9pOwhIdOcMcn9[larger playlist about modding _Fallout 3_ with Mod Organizer].
====

The setup has been divided in several parts to make it easier to follow.




==== Creating a proper shortcut

We need a shortcut to MO to run the tool with ease, because we are going to launch the game using MO, _with no exceptions_. It may seem a bit overkill at first, at least when you have the game fully modded, but trust me, you would like to know exactly which profile, and therefore which mods, are you going to load.

. Navigate with windows Explorer to `[%FO3_HOME%\Mod Organizer]` and grab `Mod Organizer.exe` with the right mouse button, dropping it in your desktop, then selecting *Create shortcuts here*.
+
.Creating a shortcut to Mod Organizer
image::DEFCON-00-Mod-Organizer-create-shortcut.png[Creating a shortcut to Mod Organizer, title="Creating a shortcut to Mod Organizer"]
. Rename the shortcut to something meaningful, like "FO3-MO", for example. We are planning for the future again, because we are going to use Mod Organizer for _Fallout New Vegas_ and _The Elder Scrolls IV: Oblivion_.
+
.Mod Organizer renamed shortcut
image::DEFCON-00-Mod-Organizer-renamed-shortcut.png[Mod Organizer renamed shortcut, title="Mod Organizer renamed shortcut"]
. The default icon for MO is not that bad, but now we are customizing our environment, why stop here? Let's change the icon to show the game we are dealing with. Download the http://www.iconarchive.com/download/i297/3xhumed/mega-games-pack-23/Fallout-3-new-1.ico[ICO version] of http://www.iconarchive.com/show/mega-games-pack-23-icons-by-3xhumed/Fallout-3-new-1-icon.html[this icon] from http://www.iconarchive.com/tag/fallout[the Icon Archive].
. Right-click on the MO icon and select *Properties*. Don't pay attention to the shitload of options I have in my contextual menu. Your mileage may vary.
+
.Context menu for the Mod Organizer icon
image::DEFCON-00-Mod-Organizer-shortcut-context-menu.png[Context menu for the Mod Organizer icon, title="Context menu for the Mod Organizer icon"]
. In the properties window, click on *Change Icon...*.
+
.Mod Organizer shortcut properties
image::DEFCON-00-Mod-Organizer-shortcut-properties.png[Mod Organizer shortcut properties, title="Mod Organizer shortcut properties"]
. In the dialog to choose an icon, select *Browse...*.
+
.Mod Organizer icon selection dialog
image::DEFCON-00-Mod-Organizer-browse-icon.png[Mod Organizer icon selection dialog, title="Mod Organizer icon selection dialog"]
. Navigate to the folder where you downloaded the new icon and select it.
+
.Selecting a new icon for the FO3-MO shortcut
image::DEFCON-00-Mod-Organizer-new-icon-selection.png[Selecting a new icon for the FO3-MO shortcut, title="Selecting a new icon for the FO3-MO shortcut"]
. Back to the icon selection dialog, just click *Ok*.
+
.Mod Organizer icon confirmation
image::DEFCON-00-Mod-Organizer-new-icon-confirmation.png[Mod Organizer icon confirmation, title="Mod Organizer icon confirmation"]
. Finally, click *Ok* on the shortcut properties dialog to confirm the changes.
+
.Confirming the changes made to the FO3-MO shortcut
image::DEFCON-00-Mod-Organizer-shortcut-properties-confirmation.png[Confirming the changes made to the FO3-MO shortcut, title="Confirming the changes made to the FO3-MO shortcut"]
. This is it! We have now a neat and meaningful icon to launch the MO environment tailored to _Fallout 3_.
+
.Mod Organizer customized shortcut
image::DEFCON-00-Mod-Organizer-customized-shortcut.png[Mod Organizer customized shortcut, title="Mod Organizer customized shortcut"]




==== Mod Organizer basic setup

By now, we have everything in place, but we have not started with the real deal yet. Let's begin now.

[TIP]
====
Check this video about https://www.youtube.com/watch?v=kdZffZnYvL4&list=PLWMvEg2LxwXbtc-mZT_H9pOwhIdOcMcn9&index=1[installing and setting up Mod Organizer], by Dirty Weasel Media.
====

. Launch MO with the shortcut we have just created. You can see the http://wiki.step-project.com/Guide:Mod_Organizer#Left_Pane[left pane] and the http://wiki.step-project.com/Guide:Mod_Organizer#Right_Pane[right pane]. The left pane contains our mod stack, sorted by priority (the higher the number, the higher the priority), while the right pane contains our load order, also sorted by priority, with just the `.esm` and `.esp` files.
+
.Mod Organizer panes
image::DEFCON-00-Mod-Organizer-panes.png[Mod Organizer panes, title="Mod Organizer panes"]
. There is something a bit off with the information shown in both panes: the order is not right. Somehow, MO does not know how to sort the main file and official DLCs right off the hook. Let's start by correcting the priority order in the left pane by dragging and dropping the official mods until you have this:
  * Unmanaged: Fallout3
  * Unmanaged: Anchorage
  * Unmanaged: ThePitt
  * Unmanaged: BrokenSteel
  * Unmanaged: PointLookout
  * Unmanaged: Zeta
+
.Corrected priority order in Mod Organizer
image::DEFCON-00-Mod-Organizer-corrected-priority-order.png[Corrected priority order in Mod Organizer, title="Corrected priority order in Mod Organizer"]
. Do the same with the load order in the left pane, dragging and dropping the plugins. You should have this:
  * `Fallout3.esm` (you cannot move this, anyway)
  * `Anchorage.esm`
  * `ThePitt.esm`
  * `BrokenSteel.esm`
  * `PointLookout.esm`
  * `Zeta.esm`
+
.Corrected load order in MO
image::DEFCON-00-Mod-Organizer-corrected-load-order.png[Corrected load order in Mod Organizer, title="Corrected load order in Mod Organizer"]
. We are working with the default profile, so we are going to rename it to show we are working with the Vanilla, unmodded game. Click on the profiles button which lies in the left-hand side of the toolbar.
+
.Mod Organizer profiles button
image::DEFCON-00-Mod-Organizer-profiles-button.png[Mod Organizer profiles button, title="Mod Organizer profiles button"]
. In the profiles management window, select the "Default" profile and click on *Rename*.
+
.Mod Organizer profiles management window
image::DEFCON-00-Mod-Organizer-profiles-management-window.png[Mod Organizer profiles management window, title="Mod Organizer profiles management window"]
. Rename the profile to "DEFCON 00 (Vanilla)" and click *Ok*.
+
.Renamed Vanilla profile in Mod Organizer
image::DEFCON-00-Mod-Organizer-renamed-Vanilla-profile.png[Renamed Vanilla profile in Mod Organizer, title="Renamed Vanilla profile in Mod Organizer"]
. Back to the profiles management window, activate the option *Automatic Archive Invalidation*. Otherwise, you won't be able to install any mod! Finally, click on *Close*.
+
.Mod Organizer automatic archive invalidation
image::DEFCON-00-Mod-Organizer-automatic-archive-invalidation.png[Mod Organizer automatic archive invalidation, title="Mod Organizer automatic archive invalidation"]
. You can see the renamed profile in the dropdown just below the toolbar, above the priority list.
+
.Mod Organizer Vanilla profile
image::DEFCON-00-Mod-Organizer-Vanilla-profile.png[Mod Organizer Vanilla profile, title="Mod Organizer Vanilla profile"]
. Switch to the *Archives* tab in the right pane and make sure the option *Have MO manage archives* is activated and the file `Fallout - Invalidation.bsa` is at the top (if it is not, don't worry, we'll fix that in a moment).
+
.Archive management activated in Mod Organizer
image::DEFCON-00-Mod-Organizer-archive-management-activated.png[Archive management activated in Mod Organizer, title="Archive management activated in Mod Organizer"]
. Let's sift through the options we need to change. Click on the settings button at the toolbar.
+
.Mod Organizer settings button
image::DEFCON-00-Mod-Organizer-settings-button.png[Mod Organizer settings button, title="Mod Organizer settings button"]
. In the *General* tab adjust at least the following settings:
  * Activate the *Advanced* option.
  * If possible, select a download directory in an alternate location, outside your `[%FO3_HOME%]` folder.
  * Activate *Download Meta Information*.
+
.Mod Organizer general settings
image::DEFCON-00-Mod-Organizer-general-settings.png[Mod Organizer general settings, title="Mod Organizer general settings"]
. In the *Nexus* tab, adjust at least the following settings:
  * Activate the *Automatic Log-In to Nexus* option.
  * Use your username and password from Nexus to authenticate.
  * Click on the *Associate with "Download with manager" links* button.
+
.Mod Organizer Nexus settings
image::DEFCON-00-Mod-Organizer-Nexus-settings.png[Mod Organizer Nexus settings, title="Mod Organizer Nexus settings"]
. In the *Plugins* tab, select the plugin "BSA Extractor" and, in the right pane, swith the "enabled" status from "False" to "True".
+
.Mod Organizer plugins settings
image::DEFCON-00-Mod-Organizer-plugins-settings.png[Mod Organizer plugins settings, title="Mod Organizer plugins settings"]
. In the *Workarounds* tab, adjust at least the following settings and click *Ok*.
  * Change the NMM version to the latest available (you can find out the latest version in the http://www.nexusmods.com/games/[Nexus main page], at the topmost bar, in the http://www.nexusmods.com/games/mods/modmanager/[Install NMM] link).
  * Disable the option *Force-enable game files*.
+
.Nexus Mod Manager latest version
image::DEFCON-00-NMM-version.png[Nexus Mod Manager latest version, title="Nexus Mod Manager latest version"]
+
.Mod Organizer workarounds settings
image::DEFCON-00-Mod-Organizer-workarounds-settings.png[Mod Organizer workarounds settings, title="Mod Organizer workarounds settings"]
. Back to the MO main window, click on the options dropdown and select *Refresh*.
+
.Mod Organizer refresh settings
image::DEFCON-00-Mod-Organizer-refresh-settings.png[Mod Organizer refresh settings, title="Mod Organizer refresh settings"]
. After refreshing, you may notice a subtle change. In the *Plugins* tab of the right pane, the file `Fallout3.esm` is no longer grayed out (because we disabled the *Force-enable game files* option in the workaround settings), therefore we can drag and drop it like the rest of the files (don't do that, though).
+
.Mod Organizer main _Fallout 3_ file active
image::DEFCON-00-Mod-Organizer-main-Fallout-3-file-active.png[Mod Organizer main Fallout 3 file active, title="Mod Organizer main Fallout 3 file active"]
. Remember the `Fallout - Invalidation.bsa` we mentioned before? If it was out of place, it shouldn't be grayed out now, so you can move it around.
+
.Mod Organizer invalidation file active
image::DEFCON-00-Mod-Organizer-invalidation-file-active.png[Mod Organizer invalidation file active, title="Mod Organizer invalidation file active"]
. Let's check everything is alright by running the Vanilla game through MO. With the game selected in the big dropdown above the right pane (it should be selected by default), just click on the *Run* button.
+
.Mod Organizer internal program launcher
image::DEFCON-00-Mod-Organizer-internal-program-launcher.png[Mod Organizer internal program launcher, title="Mod Organizer internal program launcher"]
. Mod Organizer may show a dialog about elevated privileges, although we have installed everything outside UAC-controlled space. If so, just click on *Yes* and go on.
+
.Mod Organizer elevated privileges dialog
image::DEFCON-00-Mod-Organizer-elevated-privileges.png[Mod Organizer elevated privileges dialog, title="Mod Organizer elevated privileges dialog"]
. Finally, here it is: _Fallout 3_ running through MO!
+
._Fallout 3_ Vanilla running through Mod Organizer
image::DEFCON-00-Fallout-3-Vanilla-through-Mod-Organizer.png[Fallout 3 Vanilla running through Mod Organizer, title="Fallout 3 Vanilla running through Mod Organizer"]
. Click on *Quit* to move on to the following chapters, where we are going to integrate our toolset with MO.




==== Integrating LOOT with Mod Organizer

We have a viable modding environment through MO so far, but we need to add the installed tools to the mix in order to have a full-fledged environment. The first piece will be LOOT.

. Mod Organizer does a good job detecting the previously installed LOOT, as you can see in the executables dropdown just above the right pane.
+
.LOOT has already been detected by Mod Organizer
image::DEFCON-00-Mod-Organizer-detected-LOOT.png[LOOT has already been detected by Mod Organizer, title="LOOT has already been detected by Mod Organizer"]
. However, we have installed just one copy of LOOT, so that we can use it to manage the load order in several games. We need to instruct MO to use _Fallout 3_ in this case. Click on the executables settings button in the top bar.
+
.Mod Organizer executables settings button
image::DEFCON-00-Mod-Organizer-executables-settings-button.png[Mod Organizer executables settings button, title="Mod Organizer executables settings button"]
. There should be only two entries in the list, one for the game itself and the other for LOOT. Select the LOOT entry and write in the *Arguments* field "--game=Fallout3", without quotations; then, click on *Modify*.
+
.LOOT launch arguments within Mod Organizer
image::DEFCON-00-Mod-Organizer-LOOT-launch-arguments.png[LOOT launch arguments within Mod Organizer, title="LOOT launch arguments within Mod Organizer"]
. The executables management window won't close, so click on *Close* to dismiss it.
+
.Mod Organizer executables management
image::DEFCON-00-Mod-Organizer-LOOT-executable-properties-modified.png[Mod Organizer executables management, title="Mod Organizer executables management"]
. Back to the main window, select LOOT in the executables dropdown menu and click on *Run*.
+
.Select LOOT to run through Mod Organizer
image::DEFCON-00-Mod-Organizer-select-LOOT-and-run.png[Select LOOT to run through Mod Organizer, title="Select LOOT to run through Mod Organizer"]
. When LOOT finishes launching, notice the game tag at the top, which shoud say "Fallout 3". Also, notice the message "N/A: No masterlist present" in both *Masterlist Revision* and *Masterlist Date*, meaning we have yet to run the tool. Let's fix that by clicking on the sorting icon (image:DEFCON-00-LOOT-sorting-icon.png[LOOT sorting icon, title="LOOT sorting icon"]), at the top bar.
+
.LOOT running throug Mod Organizer
image::DEFCON-00-Mod-Organizer-running-LOOT.png[LOOT running throug Mod Organizer, title="LOOT running throug Mod Organizer"]
. Several things happen _very fast_.
  * A floating message appears, showing that LOOT is updating and using the masterlist to sort your plugins.
+
.LOOT updating and parsing masterlist
image::DEFCON-00-LOOT-updating-and-parsing-masterlist.png[LOOT updating and parsing masterlist, title="LOOT updating and parsing masterlist"]
  * If you sorted the game plugins in the MO right pane like <<Mod Organizer basic setup, you have been instructed to>>, LOOT should show a message pointing out that your load order is untouched.
+
.LOOT made no changes to your load order (as it should be)
image::DEFCON-00-LOOT-no-changes-to-load-order.png[LOOT made no changes to your load order (as it should be), title="LOOT made no changes to your load order (as it should be)"]
  * In the general information pane, both entries regarding the masterlist should show updated information.
+
.Masterlist information has been updated in LOOT
image::DEFCON-00-LOOT-masterlist-updated.png[Masterlist information has been updated in LOOT, title="Masterlist information has been updated in LOOT"]
  * All your plugins, except the main `Fallout3.esm` file, should show a warning message about dirty things FO3Edit has found and need to be cleaned up. Don't worry about them, for now. We are going to address that in the chapter about <<Cleaning up the master files, cleaning up the master files>>.
+
.LOOT shows the official DLC plugins are dirty
image::DEFCON-00-LOOT-dirty-plugin-message.png[LOOT shows the official DLC plugins are dirty, title="LOOT shows the official DLC plugins are dirty"]
. Close LOOT to go back to the MO main window. We are going to put a shortcut in the top-right toolbar to launch LOOT effortlessly. With LOOT selected in the executables dropdown, select *Toolbar* in the *Shortcut* dropdown below the *Run* button.
+
.Option to create a LOOT shortcut in the Mod Organizer toolbar
image::DEFCON-00-Mod-Organizer-creating-LOOT-shortcut.png[Option to create a LOOT shortcut in the Mod Organizer toolbar, title="Option to create a LOOT shortcut in the Mod Organizer toolbar"]
. Notice the LOOT icon we have just created in the top-right toolbar. We will use this shortcut to launch LOOT from now on, leaving the executables dropdown with the game selected.
+
.LOOT shortcut in Mod Organizer
image::DEFCON-00-Mod-Organizer-LOOT-shortcut.png[LOOT shortcut in Mod Organizer, title="LOOT shortcut in Mod Organizer"]




==== Disabling the "Sort" button

You may have noticed a button named *Sort* just above the right pane in MO (image:DEFCON-00-Mod-Organizer-sort-button.png[Mod Organizer sort button, title="Mod Organizer sort button"]). This button launches a built-in feature that sorts your plugins using an outdated version of the LOOT API. We don't want to inadvertently spoil our load order using the wrong tool, because we have the full version of LOOT just to do that, so let's disable this button.

. Navigate to the `[%FO3_HOME%\Mod Organizer]` folder, and rename or delete the folder `[loot]` which is under that path.
+
.Mod Organizer built-in LOOT folder
image::DEFCON-00-Mod-Organizer-built-in-LOOT-folder.png[Mod Organizer built-in LOOT folder, title="Mod Organizer built-in LOOT folder"]
. After deleting or renaming the folder, click on the *Sort* button in MO. The application should show an error.
+
.Error launching Mod Organizer built-in LOOT
image::DEFCON-00-Mod-Organizer-error-launching-built-in-LOOT.png[Error launching Mod Organizer built-in LOOT, title="Error launching Mod Organizer built-in LOOT"]
. MO shows another dialog pointing out that the built-in LOOT couldn't be launched. Just what we wanted.
+
.Mod Organizer failed to launch the built-in LOOT, as expected
image::DEFCON-00-Mod-Organizer-failed-to-start-LOOT.png[Mod Organizer failed to launch the built-in LOOT, as expected, title="Mod Organizer failed to launch the built-in LOOT"]




==== Integrating xEdit with Mod Organizer

xEdit will be the next tool we are going to integrate within our modding environment. Unlike LOOT, it is not automatically detected when installed.

. Click on the executables settings button, like we did before to modify LOOT properties.
+
.Mod Organizer executables settings button
image::DEFCON-00-Mod-Organizer-executables-settings-button.png[Mod Organizer executables settings button, title="Mod Organizer executables settings button"]
. Fill in the following fields to provide the necessary information to run xEdit and click on *Add*:
  * *Title*: "xEdit", without the quotations.
  * *Binary*: the xEdit executable path (like `%XEDIT_HOME%\xEdit.exe`).
  * *Arguments*: "-FO3", without the quotations (there is http://wiki.step-project.com/Guide:XEdit#Launch_Arguments[a good bunch of command-line arguments]).
+
.xEdit executable information in Mod Organizer
image::DEFCON-00-Mod-Organizer-creating-xEdit-executable-entry.png[xEdit executable information in Mod Organizer, title="xEdit executable information in Mod Organizer"]
. The executables settings window remains open, so click on *Close* after checking that a xEdit entry has been created.
+
.xEdit entry created in Mod Organizer
image::DEFCON-00-Mod-Organizer-xEdit-entry-created.png[xEdit entry created in Mod Organizer, title="xEdit entry created in Mod Organizer"]
. Back in the MO main window, head to the executables drop-down and select xEdit.
+
.Selecting xEdit executable in Mod Organizer
image::DEFCON-00-Mod-Organizer-select-xEdit-executable.png[Selecting xEdit executable in Mod Organizer, title="Selecting xEdit executable in Mod Organizer"]
. With xEdit selected, click on the *Shortcuts* drop-down and select *Toolbar* to create a shortcut on the top right button bar.
+
.Creating a shortcut for xEdit in Mod Organizer
image::DEFCON-00-Mod-Organizer-creating-xEdit-shortcut.png[Creating a shortcut for xEdit in Mod Organizer, title="Creating a shortcut for xEdit in Mod Organizer"]
. Launch xEdit by clicking on the newly created toolbar icon.
+
.xEdit toolbar icon in Mod Organizer
image::DEFCON-00-Mod-Organizer-xEdit-toolbar-icon.png[xEdit toolbar icon in Mod Organizer, title="xEdit toolbar icon in Mod Organizer"]
. xEdit will show the plugin selection window, with all official data files checked. Leave them checked and click *Ok*.
+
.xEdit plugin selection window
image::DEFCON-00-xEdit-plugin-selection.png[xEdit plugin selection window, title="xEdit plugin selection window"]
. xEdit starts loading all your data files, and it will take a bit. After it finishes, notice the following:
  * The window title says "FO3Edit", thus recognizing we are using the tool to manage _Fallout 3_ plugins.
  * The left pane contains all the plugins you selected, in the right load order.
  * The right pane should end with the message "Background Loader: finished".
+
.xEdit first run under Mod Organizer
image::DEFCON-00-xEdit-first-time-run-under-Mod-Organizer.png[xEdit first run under Mod Organizer, title="xEdit first run under Mod Organizer"]
. Exit xEdit and get back to the main MO window. Notice a warning sign that suddenly appears in the icon area of the top bar.
+
.Warning sign after exiting xEdit in Mod Organizer
image::DEFCON-00-Mod-Organizer-warning-after-exiting-xEdit.png[Warning sign after exiting xEdit in Mod Organizer, title="Warning sign after exiting xEdit in Mod Organizer"]
. If you click on the warning icon, a window will appear. In that window MO informs us that there are files in your http://wiki.step-project.com/Guide:Mod_Organizer#Overwrite[overwrite mod]. Click on the line showing the issue to get a full text describing what is happening. Click *Close* when you are ready to take action.
+
.Mod Organizer full warning contents after exiting xEdit
image::DEFCON-00-Mod-Organizer-overwrite-mod-after-xEdit.png[Mod Organizer full warning contents after exiting xEdit, title="Mod Organizer full warning contents after exiting xEdit"]
. The overwrite mod is where external programs, like xEdit, put their output contents when run through MO. Double-click on the overwrite mod access in the left pane to view its contents.
+
.Overwrite mod access in Mod Organizer
image::DEFCON-00-Mod-Organizer-overwrite-mod-access.png[Overwrite mod access in Mod Organizer, title="Overwrite mod access in Mod Organizer"]
. MO shows a window with the contents of the overwrite mod. It should have only an empty folder named `[FO3Edit Backups]` (if the folder has contents, you touched something you shouldn't in xEdit). Right-click on the folder name and select *Delete*. We don't need this folder, for now, although we are going to use the contents of this special mod in the future.
+
.Deleting the overwrite mod after running xEdit
image::DEFCON-00-Mod-Organizer-overwrite-mod-contents-after-xEdit.png[Deleting the overwrite mod after running xEdit, title="Deleting the overwrite mod after running xEdit"]
. MO asks for confirmation before deleting the folder. Just click *Yes*.
+
.Mod Organizer asks for confirmation before deleting xEdit backup
image::DEFCON-00-Mod-Organizer-xEdit-backup-deletion-confirmation.png[Mod Organizer asks for confirmation before deleting xEdit backup, title="Mod Organizer asks for confirmation before deleting xEdit backup"]
. MO shows back the overwrite mod contents, which should be none. Click on *Close*.
+
.Empty overwrite mod in Mod Organizer
image::DEFCON-00-Mod-Organizer-empty-overwrite-mod.png[Empty overwrite mod in Mod Organizer, title="Empty overwrite mod in Mod Organizer"]
. Finally, check again the warning sign, which should be grayed out, meaning there are no contents in the overwrite mod.
+
.The warning in Mod Organizer has disappeared
image::DEFCON-00-Mod-Organizer-warning-after-cleaning.png[The warning in Mod Organizer has disappeared, title="The warning in Mod Organizer has disappeared"]




==== Integrating Wrye Flash with Mod Organizer

Wrye Flash is the final tool we need to integrate with Mod Organizer to have a full-fledged modding environment. Let's see how.

. Click on the executables settings button.
+
.Mod Organizer executables settings button
image::DEFCON-00-Mod-Organizer-executables-settings-button.png[Mod Organizer executables settings button, title="Mod Organizer executables settings button"]
. Fill in the following fields to provide the necessary information to run Wrye Flash and click on *Add*:
  * *Title*: "Wrye Flash", without the quotations.
  * *Binary*: the Wrye Flash executable path (like `%FO3_HOME%\Mopy\Wrye Flash.exe`).
+
.Wrye Flash executable information in Mod Organizer
image::DEFCON-00-Mod-Organizer-creating-Wrye-Flash-executable-entry.png[Wrye Flash executable information in Mod Organizer, title="Wrye Flash executable information in Mod Organizer"]
. The executables settings window remains open, so click on *Close* after checking that a Wrye Flash entry has been created.
+
.Wrye Flash entry created in Mod Organizer
image::DEFCON-00-Mod-Organizer-Wrye-Flash-entry-created.png[Wrye Flash entry created in Mod Organizer, title="Wrye Flash entry created in Mod Organizer"]
. Back in the MO main window, head to the executables drop-down and select Wrye Flash.
+
.Selecting Wrye Flash executable in Mod Organizer
image::DEFCON-00-Mod-Organizer-select-Wrye-Flash-executable.png[Selecting Wrye Flash executable in Mod Organizer, title="Selecting Wrye Flash executable in Mod Organizer"]
. With Wrye Flash selected, click on the *Shortcuts* drop-down and select *Toolbar* to create a shortcut on the top right button bar.
+
.Creating a shortcut for Wrye Flash in Mod Organizer
image::DEFCON-00-Mod-Organizer-creating-Wrye-Flash-shortcut.png[Creating a shortcut for Wrye Flash in Mod Organizer, title="Creating a shortcut for Wrye Flash in Mod Organizer"]
. Launch Wrye Flash by clicking on the newly created toolbar icon.
+
.xEdit toolbar icon in Mod Organizer
image::DEFCON-00-Mod-Organizer-Wrye-Flash-toolbar-icon.png[Wrye Flash toolbar icon in Mod Organizer, title="Wrye Flash toolbar icon in Mod Organizer"]
. It is likely that a warning comes up about modified dates in the official data files. Just click *Ok*.
+
.Wrye Flash warning about modified dates
image::DEFCON-00-Wrye-Flash-warning-modified-dates.png[Wrye Flash warning about modified dates, title="Wrye Flash warning about modified dates"]
. Wrye Flash shows its main window, with the plugin list somewhat scrambled. We are going to disable the feature that prevents Wrye Flash from sorting the plugins using the right load order. In the *Mods* tab, right-click on any column in the header and uncheck the *Lock Times* options.
+
.Disabling the "Lock Times" option in Wrye Flash
image::DEFCON-00-Wrye-Flash-disable-lock-times.png[Disabling the "Lock Times" option in Wrye Flash, title="Disabling the "Lock Times" option in Wrye Flash"]
. Exit Wrye Flash to go back to the Mod Organizer main window, and then _launch Wrye Flash again_. This time no warning should arise. Notice the different load order the plugins have now.
+
.Altered load order in Wrye Flash
image::DEFCON-00-Wrye-Flash-new-load-order.png[Altered load order in Wrye Flash, title="Altered load order in Wrye Flash"]
. Move the plugins around, by way of dragging and dropping them, to have the same list as in Mod Organizer.
+
.Corrected load order in Wrye Flash
image::DEFCON-00-Wrye-Flash-corrected-load-order.png[Corrected load order in Wrye Flash, title="Corrected load order in Wrye Flash"]
. Just exit Wrye Flash and go back to the Mod Organizer main window.




////
	DEFCON 01 (Bug Fixes and Performance) chapter.
////

== DEFCON 01 (Bug Fixes and Performance)

I know all of you are biting your nails to the bone right now, consumed by impatience, waiting for the real deal to begin.

Well, this is it. This is the chapter where all of the actual modding begins. We created the Vanilla profile in the <<DEFCON 00 (Vanilla), previous chapter>> to build the foundation upon the very rest of the profiles are going to lean on. Now it's time to build our first meaningful profile.

At the end of this chapter, you will have a version of _Fallout 3 Game of the Year Edition_ that:

* Runs flawlessly (well, almost).
* Is patched to the max, with most silly (and not-so-silly) errors corrected.
* Takes advantage of your system memory.
* Has no (or little) microstutter.
* Runs in windowed mode, faking full-screen.
* Has a clean set of data files, including a merged and a bashed patch to further ensure compatibility among them.
* Creates saved games automatically and frequently, so that you always have means to recover from a disaster.
* Has a better performance by getting rid of zillions of unused objects (like tiny rocks) which plague the game.
* Has a saved game just before leaving Vault 101, so that you won't have to repeat the initial story in every new playthrough.




=== Creating the profile

The very first thing we are going to do in each main chapter is to create the MO profile which will bind all the chapter mods together. Each *DEFCON* profile will be built upon the previous one, so *DEFCON 00* will be our foundation in this case.

. Launch MO.
. Click on the MO profiles button.
+
.Mod Organizer profiles button
image::DEFCON-01-Mod-Organizer-profiles-button.png[Mod Organizer profiles button, title="Mod Organizer profiles button"]
. In the profiles management window, select the *DEFCON 00 (Vanilla)* profile and click on *Copy*.
+
.Copying DEFCON 00 profile in Mod Organizer
image::DEFCON-01-Mod-Organizer-copying-DEFCON-00-profile.png[Copying DEFCON 00 profile in Mod Organizer, title="Copying DEFCON 00 profile in Mod Organizer"]
. In the following window, write "DEFCON 01 (Bug Fixes and Performance)" as the profile name and click *Ok*. We will use meaningful names to easily recognize the purpose of each profile.
+
.Naming DEFCON 01 profile in Mod Organizer
image::DEFCON-01-Mod-Organizer-naming-profile.png[Naming DEFCON 01 profile in Mod Organizer, title="Naming DEFCON 01 profile in Mod Organizer"]
. Back to the profiles management window, check that the *DEFCON 01* profile has been created and click *Close*.
+
.DEFCON 01 profile has been created
image::DEFCON-01-Mod-Organizer-profile-created.png[DEFCON 01 profile has been created, title="DEFCON 01 profile has been created"]
. MO does not automatically change the profile when it is created, so click on the *Profiles* drop-down and select the "DEFCON 01 (Bug Fixes and Performance)" profile.
+
.Selecting the DEFCON 01 profile
image::DEFCON-01-Mod-Organizer-selecting-profile.png[Selecting the DEFCON 01 profile, title="Selecting the DEFCON 01 profile"]
. From now on, every operation we perform will be related to this profile.
+
.DEFCON 01 profile selected
image::DEFCON-01-Mod-Organizer-profile-selected.png[DEFCON 01 profile selected, title="DEFCON 01 profile selected"]




=== Disable Games for Windows Live

[NOTE]
====
Mods used in this chapter:

* http://www.nexusmods.com/fallout3/mods/1086/[_Games for Windows LIVE Disabler_]
====

We are using the Steam version of _Fallout 3 Game of the Year Edition_, so there's no need to use Games for Windows Live (or GfWL). Besides, GfWL may cause problems with our game, so it's better to get rid of it.

. Manually download [NexusFile]*Games for Windows LIVE Disable* from http://www.nexusmods.com/fallout3/mods/1086/[_Games for Windows LIVE disabler_].
+
*DO NOT* use MO to download this tool. Download it manually instead.
. Unzip the contents of the downloaded file in a location of your choice.
. Run the file `Games for Windows LIVE Disabler.exe`.
. In the following window, just click on *Disable G4WL*.
+
.GfWL Disabler in action
image::DEFCON-01-Games-for-Windows-Live-disabler.png[GfWL Disabler in action, title="GfWL Disabler in action"]
. When the disabler asks for removing the "LIVE" button, click on *Yes*.
+
.Of course, we want to remove the "LIVE" button
image::DEFCON-01-Games-for-Windows-Live-disabler-button-removal.png[Of course, we want to remove the "LIVE" button, title="Of course, we want to remove the 'LIVE' button"]
. The disabler informs us everything went as expected. Click on *Ok*.
+
.GfWL disabler success
image::DEFCON-01-Games-for-Windows-Live-disabler-success.png[GfWL disabler success, title="GfWL disabler success"]
. Exit GfWL.
. Launch _Fallout 3_ through MO using the *DEFCON 01* profile (you should be able to do that by now). Notice the absent *LIVE* option in the main menu screen.
+
._Fallout 3_ main menu with no LIVE option
image::DEFCON-01-Fallout-3-main-menu-no-LIVE-option.png[Fallout 3 main menu with no LIVE option, title="Fallout 3 main menu with no LIVE option"]




=== Enabling access to 4 GB+ of memory

[NOTE]
====
Mods used in this chapter:

* http://www.nexusmods.com/fallout3/mods/6510/[_Large Address Aware Enabler for FO3_]
====

_Fallout 3_ does not use all the available memory it could have used, due to its 32 bits nature (the game was launched in 2008, you know). However, you can modify the game executable to take advantage of all the memory it can get.

Gopher explains the way to go with this video about https://www.youtube.com/watch?v=tONiXNbwSt0[performance and stability in _Fallout 3_] (26:38) (the video touches several topics, but the one we are focusing on spans from the beginning to 08:55, give or take).

We don't want to clutter our system with unnecessary tools, so we are sticking with http://www.nexusmods.com/fallout3/mods/6510/[_Large Address Aware Enabler for FO3_].

. Manually download the file [NexusFile]*FO3_3GB_ENABLER* from http://www.nexusmods.com/fallout3/mods/6510/[_Large Address Aware Enabler for FO3_], not using MO, and extract its contents in a location of your choice.
. Create a backup of the file `Fallout3.exe` from `[%FO3_HOME%]`, just in case everything goes South.
. Copy the file `Fallout3.exe` to the folder where you extracted the LAA Enabler.
. Run `START.BAT` in the aforementioned folder. A console window will appear, reporting that the patching is about to start. Press any key.
+
.LAA Enabler reminder
image::DEFCON-01-LAA-enabler-reminder.png[LAA Enabler reminder, title="LAA Enabler reminder"]
. Several options are shown. We want to press kbd:[A] to add the LAA feature to _Fallout 3_ executable.
+
.LAA Enabler options
image::DEFCON-01-LAA-enabler-options.png[LAA Enabler options, title="LAA Enabler options"]
. LAA Enabler patches the executable and happily informs us about it. Press any key.
+
.LAA Enabler successful
image::DEFCON-01-LAA-enabler-successful.png[LAA Enabler successful, title="LAA Enabler successful"]
. The program goes back to the options window. Press kbd:[E] to exit.
+
.LAA Enabler finished
image::DEFCON-01-LAA-enabler-finished.png[LAA Enabler finished, title="LAA Enabler finished"]
. Copy back `Fallout3.exe` to its original location in `[%FO3_HOME%]`.
. Delete the folder where you extracted the LAA Enabler and its contents. Delete the ZIP file also. You won't need them anymore.

And that's really it. Now _Fallout 3_ is ready to handle more than 2 GB of RAM, improving stability.




=== Cleaning up the master files

Remember when we said that we would address the problem of the dirty master files in <<Integrating LOOT with Mod Organizer, an earlier chapter>>? Well, it's time to fix that.

Master files in _Fallout 3_ are somewhat dirty. This is what LOOT said about them:

* `Anchorage.esm`: Contains 54 ITM records and 10 deleted references.
* `ThePitt.esm`: Contains 40 ITM records and 5 deleted navmeshes.
* `BrokenSteel.esm`: Contains 275 ITM records, 34 deleted references and 12 deleted navmeshes.
* `PointLookout.esm`: Contains 21 ITM records.
* `Zeta.esm`: Contains 15 ITM records.

ITM records are items which are identical to elements in other master files. They can be considered mostly harmless. Just a bit of redundancy.

On the contrary, deleted references can (and will) fuck up your game, because they are references to objects that _are supposed to be in the game_, but they no longer are, _and no one has marked them as disabled_. So, any mod using a deleted but not disabled reference is going to eventually crash your system. We are talking serious shit here.

However, we are going to cleanse the master files so that they shine as they were intended to.

We are going to use xEdit through MO to clean the master files, but the process is not so straightforward as it is with NMM, albeit it is more polished at the end. I know it does not make any fucking sense. Just bear with me.

. Launch MO, making sure you are using the DEFCON 01 profile.
+
.We need to have the right profile selected
image::DEFCON-01-Mod-Organizer-making-sure-correct-profile-selected.png[We need to have the right profile selected, title="We need to have the right profile selected"]
. Launch xEdit using the toolbar icon, like we did before.
. Right-click on the Master/Plugin selection window and select _Select none_. We are going to choose the files to clean, one by one.
+
.Deselecting all master files in xEdit
image::DEFCON-01-xEdit-deselecting-all-master-files.png[Deselecting all master files in xEdit, title="Deselecting all master files in xEdit"]
. We need to select the master file every other master file depends on (`Fallout3.esm`) and the master file we are going to clean first (`Anchorage.esm`). Click *Ok* when ready:
+
.Selecting the file to clean in xEdit
image::DEFCON-01-xEdit-selecting-file-to-clean.png[Selecting the file to clean in xEdit, title="Selecting the file to clean in xEdit"]
. xEdit takes a while to load the data contained in these files. Wait for the message "Background Loader: finished" to appear in the *Messages* panel.
+
.Master files to clean successfully loaded in xEdit
image::DEFCON-01-xEdit-master-files-loaded.png[Master files to clean successfully loaded in xEdit, title="Master files to clean successfully loaded in xEdit"]
. Right-click on the `Anchorage.esm` node in the left panel tree and select *Apply filter for cleaning*.
+
.Applying filter for cleaning in xEdit
image::DEFCON-01-xEdit-apply-filter-for-cleaning.png[Applying filter for cleaning in xEdit, title="Applying filter for cleaning in xEdit"]
. The filtering may take a little while, depending on how big and dirty the file is. When the filtering is completed, a line with the heading "[Filtering done]" appears in the *Messages* panel. The tree in the left panel shows the files with fancy colors which you don't have to give a fuck, unless you want to delve deeper into the inner workings of the mods.
+
.Filtering done in xEdit
image::DEFCON-01-xEdit-filtering-done.png[Filtering done in xEdit, title="Filtering done in xEdit"]
. First, we are going to remove ITM (_Identical to Master_) records. They are not going to crash the game, but they take up space, and trust me, when you get the I-am-going-to-install-every-fancy-mod-that-crosses-in-my-path spree, you will need as much space as you can get. Right-click on the `Anchorage.esm` node in the left panel tree and select *Remove "Identical to Master" records*.
+
.Removing ITM records in xEdit
image::DEFCON-01-xEdit-removing-ITM-records.png[Removing ITM records in xEdit, title="Removing ITM records in xEdit"]
. Every time you try to change a data file, a big warning appears. But, as seasoned hard-ass mod installers, we are sure as hell of what we are doing. Aren't we?
+
.Modification warning in xEdit
image::DEFCON-01-xEdit-modification-warning.png[Modification warning in xEdit, title="Modification warning in xEdit"]
. After a little while, a message shows up in the *Messages* panel, reporting 43696 records processed and 54 records removed (don't worry if the numbers don't match; your setup may be slightly different, although it's very unlikely).
+
.ITM records deleted in xEdit
image::DEFCON-01-xEdit-ITM-records-deleted.png[ITM records deleted in xEdit, title="ITM records deleted in xEdit"]
. Next, we are going to undelete and disable deleted references... To get rid of these nasty sons of a bitch, right click on the `Anchorage.esm` node in the left panel tree and select *Undelete and Disable References*.
+
.Undeleting and disabling deleted references in xEdit
image::DEFCON-01-xEdit-undeleting-deleted-references.png[Undeleting and disabling deleted references in xEdit, title="Undeleting and disabling deleted references in xEdit"]
. A bit of processing again, and we have another message in the right panel, reporting 43642 records processed and 10 undeleted records.
+
.Undeleted and disabled references in xEdit
image::DEFCON-01-xEdit-undeleted-references.png[Undeleted and disabled references in xEdit, title="Undeleted and disabled references in xEdit"]
. Job done! We just need to save the modified data file. To do that, just click on the close button of the tool window. A pop-up window should appear with _just one file_, the one you have been tinkering with (`Anchorage.esm`, in this case). If more than one file is shown, press kbd:[ESC] or click on the close button and start over again, because you surely screwed up at some point in the process. Anyway, make sure that the option *Backup plugins* is selected before clicking *Ok*.
+
.Saving the modified master file in xEdit
image::DEFCON-01-xEdit-saving-master-file.png[Saving the modified master file in xEdit, title="Saving the modified master file in xEdit"]
. Repeat the process for the rest of the master files: `ThePitt.esm`, `BrokenSteel.esm`, `PointLookout.esm` and `Zeta.esm`.
. When you are done cleaning all the files, take a look at the toolbar in MO. Notice the warning that shows up.
+
.Warning after cleaning up the master files
image::DEFCON-01-Mod-Organizer-warning.png[Warning after cleaning up the master files, title="Warning after cleaning up the master files"]
. Things are getting interesting here. MO is warning us that xEdit has put contents in the overwrite folder, like <<Integrating xEdit with Mod Organizer, we saw before>>. We are going to deal with it, but first right-click on any empty part in the left pane and select *Refresh*.
+
.Refreshing the plugins list
image::DEFCON-01-Mod-Organizer-refreshing-plugins-list.png[Refreshing the plugins list, title="Refreshing the plugins list"]
. Ooooops! What the fuck happened here? Where are our plugins?
+
.The official DLCs have gone AWOL
image::DEFCON-01-Mod-Organizer-missing-plugins.png[The official DLCs have gone AWOL, title="The official DLCs have gone AWOL"]
. Well, they have gone to the overwrite mod folder of MO. Double-click at the bottom of your now derisory plugins list to take a look at the contents of that folder.
+
.Missing master files in the overwrite folder
image::DEFCON-01-Mod-Organizer-master-files-in-overwrite.png[Missing master files in the overwrite folder, title="Missing master files in the overwrite folder"]
. The master files you see are the _cleaned ones_. Click on the folder `FO3Edit Backups` to see the original, dirty master files.
+
.Original master files in the overwrite folder
image::DEFCON-01-Mod-Organizer-original-master-files-in-overwrite.png[Original master files in the overwrite folder, title="Original master files in the overwrite folder"]
. What we need to do now involves some tinkering _outside_ MO, so click on *Close* and then exit MO.
. Remember that our cornerstone in modding the game is the very concept of consecration of the data folder, meaning its contents should not be altered. Thus, we are going to _restore_ the original master files, creating a special mod with the cleaned version of these master files. Open the overwrite mod folder, located in `[%FO3_HOME%\Mod Organizer\overwrite]`.
+
.The contents of the overwrite mod folder
image::DEFCON-01-Mod-Organizer-overwrite-folder-contents.png[The contents of the overwrite mod folder, title="The contents of the overwrite mod folder"]
. Now open the `FO3Edit Backups` folder.
+
.The backup of the master files
image::DEFCON-01-Mod-Organizer-overwrite-folder-backups.png[The backup of the master files, title="The backup of the master files"]
. _Rename_ all the files, stripping out the part after `.esm`. Thus, `Anchorage.esm.backup.2017_01_22_10_45_09` would become `Anchorage.esm`, and so on. Your filenames will be different because the part we are wiping out is sort of a timestamp of the moment the backup was created.
+
.Renamed master files in the overwrite mod folder
image::DEFCON-01-Mod-Organizer-renamed-master-files.png[Renamed master files in the overwrite mod folder, title="Renamed master files in the overwrite mod folder"]
. _Move back_ the `.esm` files we just renamed to the `[%FO3_HOME%\Data]` folder, where they belong. Remember, we are restoring the original, dirty files in its original location.
+
.Original master files restored in its location
image::DEFCON-01-Mod-Organizer-original-master-files-restores.png[Original master files restored in its location, title="Original master files restored in its location"]
. Let's go back to the overwrite mod folder (`[%FO3_HOME%\Mod Organizer\overwrite]`). We need to get rid of the backup folder. Delete it. Burn it to the ground and make sure the only contents of the folder are the cleaned master files.
+
.Cleaned master files, ready to be packed
image::DEFCON-01-Mod-Organizer-master-files-ready-to-pack.png[Cleaned master files, ready to be packed, title="Cleaned master files, ready to be packed"]
. Launch MO again. The stacking order is scrambled again, but don't worry about it now. We'll deal with this issue in a moment.
+
.Our stacking order is scrambled again
image::DEFCON-01-Mod-Organizer-scrambled-stacking-order.png[Our stacking order is scrambled again, title="Our stacking order is scrambled again"]
. Right-click on the *Overwrite* stripe at the bottom of the left pane and select *Create mod...*.
+
.Creating a mod with the cleaned master files
image::DEFCON-01-Mod-Organizer-creating-mod-overwrite.png[Creating a mod with the cleaned master files, title="Creating a mod with the cleaned master files"]
. In the following dialog, write a meaningful name for the mod (for example, "Cleaned Master Files"), and click *Ok*.
+
.Giving a meaningful name to the cleaned master files mod
image::DEFCON-01-Mod-Organizer-overwrite-mod-name.png[Giving a meaningful name to the cleaned master files mod, title="Giving a meaningful name to the cleaned master files mod"]
. _Et voilà!_ You can notice two things immediately:
  * There is a new mod at the bottom of the stack with the name we just gave, although it has not been activated yet.
  * The warning sign in the top-right toolbar is grayed out again.
+
.This is our first mod! Really!
image::DEFCON-01-Mod-Organizer-cleaned-master-files-inactive.png[This is our first mod! Really!, title="This is our first mod! Really!"]
+
.We can breathe with relief now
image::DEFCON-01-Mod-Organizer-grayed-out-warning-sign.png[We can breathe with relief now, title="We can breathe with relief now"]
. Nevertheless, we are not done yet. Rearrange the stacking order in the left pane to match the load order in the right pane, by means of dragging and dropping the plugins.
+
.Rearranged master files
image::DEFCON-01-Mod-Organizer-rearranged-master-files.png[Rearranged master files, title="Rearranged master files"]
. Finally, activate the *Cleaned Master Files* plugin in the left pane. You will notice http://wiki.step-project.com/Guide:Mod_Organizer#Left_Pane[a bunch of icons] to the right of each plugin (they were there right from the start, but this is the ideal moment for an explanation), meaning:
  * A lightning with a plus sign (image:DEFCON-01-Mod-Organizer-lightning-plus.png[Lightning with a plus sign, title="Lightning with a plus sign"]) means the plugin overwrites files from other plugins, but its files are not overwritten by anything (what I call a "winner plugin").
  * A lightning with a minus sign (image:DEFCON-01-Mod-Organizer-lightning-minus.png[Lightning with a minus sign, title="Lightning with a minus sign"]) means some of the files in the plugin are overwritten by files from other plugin, and it does not overwrite files from other plugins (what I call a "loser plugin").
  * A lightning with both a plus and a minus sign (image:DEFCON-01-Mod-Organizer-lightning-plus-minus.png[Lightning with both a plus and a minus sign, title="Lightning with both a plus and a minus sign"]) means a combination of the two previous states; some of the plugin files are overwritten, and it overwrites some files from other plugins (what I call a "average plugin").
  * A lightning with no additional signs (image:DEFCON-01-Mod-Organizer-lightning.png[Lightning with no sign, title="Lightning with no sign"]) means the plugin has all its files overwritten by other plugins, and it does not overwrite any file from other plugins, actually rendering it useless (what I call a "disposable plugin"). There should be no disposable plugins in our stack.
  * If the plugin does not have any sign, it means its files are untouched (what I call an "isolated plugin").
+
.Cleaned master files plugin activated
image::DEFCON-01-Mod-Organizer-cleaned-master-files-activated.png[Cleaned master files plugin activated, title="Cleaned master files plugin activated"]
. Let's check what is being overwritten by our brand-new mod. Double-click on it and navigate to the *Conflicts* tab where you can see:
  * In the upper pane there is a list of the files overwritten by this mod. In this case, each of the original master files.
  * In the lower pane there is a list of the mod files overwritten by other mods. There are none, in this case.
+
.Original master files overwritten by the first mod
image::DEFCON-01-Mod-Organizer-overwritten-files-cleaned-master-files.png[Original master files overwritten by the first mod, title="Original master files overwritten by the first mod"]
. Just click on *Close* and we are good to go. Launch LOOT from MO to check our master files are not dirty anymore. As you can see, the warnings about dirt in our master files have gone.
+
.Our master files are spotless now
image::DEFCON-01-LOOT-cleaned-master-files.png[Our master files are spotless now, title="Our master files are spotless now"]
. Close LOOT and let's head to the next step.




=== Tweaking the INI files




=== Patching the game




=== Setting up the foundation for our modding




=== Crash Test Dummies will have a hard time here




=== Fake full-screen mode




=== Saving games the right way




=== Getting rid of stutter




=== A bunch of unrelated fixes




=== Indulging your Diogenes Syndrome




=== I can see clearly now




=== Adopt an useless rock today!




=== Punxsutawney Phil is not alive anymore




=== Creating a merged patch




=== Bashing all together




////
	DEFCON 02 (User Interface) chapter.
////
////
== DEFCON 02 (User Interface)

=== Face-washing the HUD

=== Deadshot would be proud of you

=== Rearranging your HUD

=== A better feeling of immersion

=== Cooperate, or else!

=== Bashing and merging all together (again)
////

////
	DEFCON 03 (Refined User Interface) chapter.
////
////
== DEFCON 03 (Refined User Interface)

=== Let there be light!

=== For the achievement junkie in you

=== Everything depends on the point of view

=== Cleaning up your faithful companion

=== You don't want to ask for directions

=== If you are the kind of person who reads patient's leaflets...

=== When burglary becomes a way of life

=== Be your own Visual FX technician

=== Yeah, you guessed, bashing and merging all together
////

////
	DEFCON 04 (Sounds and Music) chapter.
////
////
== DEFCON 04 (Sounds and Music)

=== Lend me your ears

=== Those crickets are driving me mad!

=== A soundtrack for your lonely Wasteland nights

=== A sound for Chekhov’s gun

=== Bash... Bah, you know
////

////
	DEFCON 05 (Gameplay Overhauls) chapter.
////
////
== DEFCON 05 (Gameplay Overhauls)

=== _Ad astra per aspera_

=== Fraternizing with the neighborhood

=== This is where we start to patch like Hell

=== The usual deal
////

////
	DEFCON 06 (New and Improved Weapons) chapter.
////
////
== DEFCON 06 (New and Improved Weapons)

=== Lead-shaped love

=== Don't you think you are taking this DIY thing too far?

=== I do not aim with my hand; he who aims with his hand has forgotten the face of his father

=== At least you will be torn apart in a beam of fancy colors

=== Your weapon is screaming-red, sir

=== We need more needle and thread, of course

=== Did I say we need new merged and bashed patches in each profile?
////

////
	DEFCON 07 (New Playstyles) chapter.
////
////
== DEFCON 07 (New Playstyles)

=== Nerds will take over the world

=== Nobody loves me

=== There is nothing like a good headshot

=== Guess what? Yeah, more patches

=== One of the most difficult parts of this guide is figuring out the titles about merged and bashed patches
////

////
	DEFCON 08 (New and Improved Places) chapter.
////
////
== DEFCON 08 (New and Improved Places)

This is the rundown of the chapter, pointing out the mods used in each sub-chapter:

---

=== There is no place like Metaton

=== Those who cannot remember the past are condemned to repeat it

=== Now you can go Black Friday in Washington D.C.

=== Outcasts are not known by their house-cleaning abilities

=== You know what to do, right?
////

////
	DEFCON 09 (Quests) chapter.
////
////
== DEFCON 09 (Quests)

=== Have you ever seen a puce moose?

=== These weird folks look better than ever

=== Going back to your irradiated roots

=== Evil corporations have their place in the Wasteland

=== Kicking asses the alien way

=== Miles Davis echoes in the Wasteland

=== Don't you ever stop patching!

=== WWVhaCwgaW4gQmFzZTY0LCBzbyBsb3cgSSBoYXZlIGZhbGxlbg==
////

////
	DEFCON 10 (Ambient and Weather) chapter.
////
////
== DEFCON 10 (Ambient and Weather)

=== She walks in beauty, like the night of cloudless climes and starry skies

=== Night and day the river flows, and irradiated there it goes

=== I love the sound of non-existent leaves in the wind

=== I REALLY hate that green tint

=== The usual suspects
////

////
	DEFCON 11 (Lighting) chapter.
////
////
== DEFCON 11 (Lighting)

=== I guess the electric towers around D.C. are strong enough to withstand a nuclear blast

=== I truly don't know what's gonna happen when the lights go out, Carolyn

=== Your trustworthy merged and bashed patches
////

////
	DEFCON 12 (People) chapter.
////
////
== DEFCON 12 (People)

=== Master of puppets, I'm pulling your strings

=== I don't like your face

=== Sewing up some scars

=== Mashing and berging, or something like that
////

////
	DEFCON 13 (Terrain and DLC Textures) chapter.
////
////
== DEFCON 13 (Terrain and DLC Textures)

=== I will give your descendants all these land in high resolution

=== Real estate leaflets will look much more appealing

=== DLCs have also their little low-resolution hearts
////

////
	DEFCON 14 (Clutter, Furniture and Particle Textures) chapter.
////
////
== DEFCON 14 (Clutter, Furniture and Particle Textures)

=== The Devil is in the details

=== All that junk need a bit of glue

=== These will be the last ones, I promise!
////

////
	DEFCON 15 (Weapon Textures) chapter.
////
////
== DEFCON 15 (Weapon Textures)

=== Killing with style

=== I know I said that the last one was the last one, but it was **NOT** the last one; this one will be **THE LAST ONE**; really; I promise
////

////
	Final chapters.
////
////
== Resources

=== Tools

=== Guides

=== Mods

=== Videos
////
